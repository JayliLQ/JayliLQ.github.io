{"title":"Json errors","date":"2019-12-01T14:01:15.000Z","date_formatted":{"ll":"2019年12月1日","L":"2019/12/01","MM-DD":"12-01"},"link":"2019/12/01/errors","tags":["Java"],"categories":["Java"],"updated":"2019-12-01T14:04:46.165Z","content":"<!-- build time:Sun Aug 23 2020 20:59:40 GMT+0800 (GMT+08:00) --><p>JSONObject.fromObject() 无法读取到属性值。</p><a id=\"more\"></a><h2 id=\"JSON\">JSON<a href=\"2019/12/01/errors#JSON\"></a></h2><p>运用 JSONObject.fromObject() 将对象转换为 JSON ，log 如下</p><figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">- Property '<span class=\"built_in\">name</span>' <span class=\"keyword\">of</span> <span class=\"built_in\">class</span> LocalTest$JsonTest2 has no <span class=\"built_in\">read</span> method. SKIPPED</span><br></pre></td></tr></table></div></figure><ol><li>JSONObject 会将所有 setXXX 的方法，获取对应的 getXXX 方法</li><li>调用 getXXX 方法获得 XXX 属性的值</li><li><code>对一个 Bean 类来讲，可以没有属性，但是只要有 public getter 方法 Java 的内省机制就会认为存在一个属性，比如类中有方法 getMobile ，那么就认为存在一个 mobile 的属性。</code></li></ol><figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">JsonTest2</span> &#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">getName</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"sss\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">@Test</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">jsonTest</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    JsonTest2 jsonTest = <span class=\"keyword\">new</span> JsonTest2();</span><br><span class=\"line\">    System.<span class=\"keyword\">out</span>.println(JSONObject.fromObject(jsonTest));</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">输出：</span><br><span class=\"line\">&#123;<span class=\"string\">\"name\"</span>:<span class=\"string\">\"sss\"</span>&#125;</span><br></pre></td></tr></table></div></figure><p>解决：所有 setXXX 方法需要有 getXXX</p><!-- rebuild by neat -->","prev":{"title":"java8 新特性","link":"2020/08/23/java8-新特性"},"next":{"title":"Tomcat 原理","link":"2019/11/26/Tomcat"},"plink":"https://www.jayli.cn/2019/12/01/errors/","toc":[{"title":"JSON","id":"JSON","index":"1"}],"copyright":{"link":"<a href=\"https://www.jayli.cn/2019/12/01/errors/\" title=\"Json errors\">https://www.jayli.cn/2019/12/01/errors/</a>","license":"Attribution-NonCommercial-NoDerivatives 4.0 International (<a href=\\\"https://creativecommons.org/licenses/by-nc-sa/4.0/\\\" rel=\\\"external nofollow\\\" target=\\\"_blank\\\">CC BY-NC-ND 4.0</a>)","published":"2019年12月1日","author":"Jayli"}}