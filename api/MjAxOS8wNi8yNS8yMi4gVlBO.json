{"title":"VPN","date":"2019-06-25T14:49:24.000Z","date_formatted":{"ll":"2019年6月25日","L":"2019/06/25","MM-DD":"06-25"},"link":"2019/06/25/22. VPN","tags":["网络协议"],"categories":["网络协议"],"updated":"2019-12-01T14:58:35.259Z","content":"<!-- build time:Sun Aug 23 2020 21:12:13 GMT+0800 (GMT+08:00) --><h2 id=\"VPN-（Virtual-Private-network）虚拟专用网\">VPN （Virtual Private network）虚拟专用网<a href=\"2019/06/25/22. VPN#VPN-（Virtual-Private-network）虚拟专用网\"></a></h2><p><img src=\"https://static001.geekbang.org/resource/image/9f/68/9f797934cb5cf40543b716d97e214868.jpg\" alt=\"\" class=\"article-img\"></p><h2 id=\"VPN-工作原理\">VPN 工作原理<a href=\"2019/06/25/22. VPN#VPN-工作原理\"></a></h2><p>VPN 通过隧道技术在公网上仿真一条点到点的专线，是通过利用一种协议来传输另外一种协议的技术，里面涉及到三种协议：乘客协议，隧道协议，承载协议</p><p><img src=\"https://static001.geekbang.org/resource/image/a7/f1/a7c0a7fd2334d7145d093cf24bc6d7f1.jpg\" alt=\"\" class=\"article-img\"></p><p>基于私密性，完整性，真实性，组成了 IPsec VPN 的协议簇</p><p><img src=\"https://static001.geekbang.org/resource/image/34/af/34a952bd1abeec19460b8d5dca5cd0af.jpg\" alt=\"\" class=\"article-img\"></p><ul><li><p>IPsec VPN 建立过程</p><ul><li><p>建立 IKE 自己的 SA</p><p><img src=\"https://static001.geekbang.org/resource/image/28/78/28a3938ab8efaf9fa7f313a46d0e1478.jpg\" alt=\"\" class=\"article-img\"></p></li><li><p>建立 IPsec SA</p><p><img src=\"https://static001.geekbang.org/resource/image/87/59/87a34817f22ed4a2afb58e8f6496f159.jpg\" alt=\"\" class=\"article-img\"></p></li><li><p>打包封装传输</p><p><img src=\"https://static001.geekbang.org/resource/image/71/ca/71fa17f5bb21c12aec1234eec85a6dca.jpg\" alt=\"\" class=\"article-img\"></p></li><li><p>传输过程</p></li></ul></li></ul><p><img src=\"https://static001.geekbang.org/resource/image/df/b5/dfc5a7934added3cc11d9c95a69a9bb5.jpg\" alt=\"\" class=\"article-img\"></p><ul><li><p>ATM 技术</p><p>ATM 是传输之前先建立一个连接，形成一个虚拟的通路，一旦连接建立了，所有的包都按照相同的路径走，不会分头行事</p><p><img src=\"https://static001.geekbang.org/resource/image/af/48/afea2a2cecb8bfe6c1c40585000f1c48.jpg\" alt=\"\" class=\"article-img\"></p></li><li><p>MPLS（Multi-Protocol Label Switching）多协议标签交换</p><p><img src=\"https://static001.geekbang.org/resource/image/ab/32/ab77ad0cec6a26f43bacb3f51b0c8d32.jpg\" alt=\"\" class=\"article-img\"></p><p><img src=\"https://static001.geekbang.org/resource/image/78/ee/782742e09ddddcef169c9982b65c69ee.jpg\" alt=\"\" class=\"article-img\"></p><p><img src=\"https://static001.geekbang.org/resource/image/94/84/947e2fece5e3b2750b0b73c9458f3784.jpg\" alt=\"\" class=\"article-img\"></p><p><img src=\"https://static001.geekbang.org/resource/image/ba/ec/bae67c4e3f4a4127bad07de4bb577bec.jpg\" alt=\"\" class=\"article-img\"></p><p><img src=\"https://static001.geekbang.org/resource/image/3c/dd/3cd18d212bf76e7151ea73aa65ef48dd.jpg\" alt=\"\" class=\"article-img\"></p></li></ul><h2 id=\"总结\">总结<a href=\"2019/06/25/22. VPN#总结\"></a></h2><ul><li>VPN 可以将一个机构的多个数据中心通过隧道的方式连接起来，让机构感觉在一个数据中心里面，就像自驾游通过琼州海峡一样</li><li>完全基于软件的 IPsec VPN 可以保证私密性、完整性、真实性、简单便宜，但是性能稍微差一些</li><li>MPLS-VPN 综合和 IP 转发模式和 ATM 的标签转发模式的优势，性能较好，但是需要从运营商购买</li></ul><h2 id=\"思考\">思考<a href=\"2019/06/25/22. VPN#思考\"></a></h2><ul><li>当前业务的高可用性和弹性伸缩很重要，所以很多机构都会在自建私有云之外，采购公有云，你知道私有云和公有云应该如何打通吗？</li><li>前面所有的上网行为，都是基于电脑的，但是移动互联网越来越成为核心，你知道手机上网都需要哪些协议吗？</li></ul><!-- rebuild by neat -->","prev":{"title":"软件定义网络","link":"2019/06/25/25. 软件定义网络"},"next":{"title":"设计模式","link":"2019/06/05/设计模式"},"plink":"https://www.jayli.cn/2019/06/25/22. VPN/","toc":[{"title":"VPN （Virtual Private network）虚拟专用网","id":"VPN-（Virtual-Private-network）虚拟专用网","index":"1"},{"title":"VPN 工作原理","id":"VPN-工作原理","index":"2"},{"title":"总结","id":"总结","index":"3"},{"title":"思考","id":"思考","index":"4"}],"copyright":{"link":"<a href=\"https://www.jayli.cn/2019/06/25/22. VPN/\" title=\"VPN\">https://www.jayli.cn/2019/06/25/22. VPN/</a>","license":"Attribution-NonCommercial-NoDerivatives 4.0 International (<a href=\\\"https://creativecommons.org/licenses/by-nc-sa/4.0/\\\" rel=\\\"external nofollow\\\" target=\\\"_blank\\\">CC BY-NC-ND 4.0</a>)","published":"2019年6月25日","author":"Jayli"}}