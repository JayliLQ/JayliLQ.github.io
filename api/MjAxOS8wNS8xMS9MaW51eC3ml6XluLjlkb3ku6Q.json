{"title":"Linux 日常命令","date":"2019-05-11T14:21:59.000Z","date_formatted":{"ll":"2019年5月11日","L":"2019/05/11","MM-DD":"05-11"},"link":"2019/05/11/Linux-日常命令","tags":["Linux"],"categories":["Linux"],"updated":"2019-12-01T14:23:55.965Z","content":"<!-- build time:Sun Aug 23 2020 21:12:13 GMT+0800 (GMT+08:00) --><figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 查找文件 find</span></span><br><span class=\"line\">find ~ -name fileName* <span class=\"comment\">// 在当前用户空间下查找文件名 fileName* 的文件</span></span><br><span class=\"line\"><span class=\"comment\">// 查找文件中相关内容的行 grep</span></span><br><span class=\"line\">grep includeStr fileName  <span class=\"comment\">// 查找文件 fileName 中包含 includeStr 的行</span></span><br><span class=\"line\"><span class=\"comment\">// 文件内容处理 awk</span></span><br><span class=\"line\">awk <span class=\"string\">'&#123;print <span class=\"subst\">$1</span>,<span class=\"subst\">$2</span>&#125;'</span> <span class=\"comment\">// 输出已默认空格分隔的第1列和第2列</span></span><br><span class=\"line\"><span class=\"comment\">// 管道操作符 | , 上一个指令的输出作为下一个指令的输入</span></span><br><span class=\"line\">ps -ef | grep tomcat</span><br><span class=\"line\"><span class=\"comment\">// ex: 1. 查找 AS2_Client-BIS-PROD2.lgw 中包括 551ff040-ee58-11e9-abe3-f7b3c0a88483 的行，</span></span><br><span class=\"line\"><span class=\"comment\">// 2. 并将其以制表符分隔各列，取其中的 5,11,2,3,12 列，输出各列以 | 分隔，</span></span><br><span class=\"line\"><span class=\"comment\">// 3. 并将输出内容输出到 /tmp/prod2.log 中</span></span><br><span class=\"line\">grep <span class=\"number\">551</span>ff040-ee58<span class=\"number\">-11e9</span>-abe3-f7b3c0a88483 AS2_Client-BIS-PROD2.lgw | awk -v FS=<span class=\"string\">'\\t'</span> -v OFS=<span class=\"string\">'|'</span> <span class=\"string\">'&#123;print <span class=\"subst\">$5</span>,<span class=\"subst\">$11</span>,<span class=\"subst\">$2</span>,<span class=\"subst\">$3</span>,<span class=\"subst\">$12</span>&#125;'</span> &gt; /tmp/prod2.log</span><br><span class=\"line\"><span class=\"comment\">// 编辑文件 sed</span></span><br><span class=\"line\">sed <span class=\"string\">'s/要被取代的字串/新的字串/g'</span> fileName</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 从头开始输出文件 head</span></span><br><span class=\"line\">head fileName</span><br><span class=\"line\"><span class=\"comment\">// 从尾开始输出文件 tail</span></span><br><span class=\"line\">tail fileName</span><br></pre></td></tr></table></div></figure><ul><li>grep 更适合单纯的查找或匹配文本</li><li>sed 更适合编辑匹配到的文本</li><li>awk 更适合格式化文本，对文本进行较复杂格式处理</li></ul><pre><code>// 直观显示文件详细内容\nls -alh\n// 按照由大到小排序\nls -Sl\n// 按照由小到大排序\nls -Slr\n// 列出当前目录的文件夹\nls | grep &quot;^d&quot;\n// 显示目录树: -a 显示所有，-d 仅显示目录，-L n 显示 n 层，-f 显示完整路径\ntree -a ./\n// 显示目前在Linux系统上的文件系统的磁盘使用情况统计\ndf -h\n// 列出块设备信息\nlsblk\n// 创建文件\ntouch test.txt\n// 查看文件信息\nstat test.txt\n// 查看文件类型\nfile test.txt\n// 复制文件夹\ncp -rf srcFile desFile\n// 删除文件夹\nrm -rf srcFile\n// 移动文件\nmv file1 dest/file1\n// 筛选文件并移动\nfind . -name &apos;INVENTORY_DETAILS_COMPAL_201903*&apos; -exec mv {} INVENTORY_DETAILS_COMPAL/201903/ \\;\n// 查看系统时间\ndate\n// 前一天的日期\ndate -d &quot;1 day ago&quot; +&quot;%y%m%d&quot;\n// 前一个月的日期\ndate -d &quot;1 month ago&quot; +&quot;%y%m%d&quot;\n// 查看ip\nifconfig\n// 修改文件目录及子目录下文件属性 rwx&lt;--&gt;421\nchmod -R 755 OUT\n// vi 全局替换\n:%s/old_str/new_str/g\n// vi 指定范围替换\n:line1,line2s/old_str/new_str/g\n\n</code></pre><!-- rebuild by neat -->","prev":{"title":"SQL 语句","link":"2019/05/12/SQL-语句"},"next":{"title":"关于换行","link":"2019/05/10/wrap"},"plink":"https://www.jayli.cn/2019/05/11/Linux-日常命令/","copyright":{"link":"<a href=\"https://www.jayli.cn/2019/05/11/Linux-日常命令/\" title=\"Linux 日常命令\">https://www.jayli.cn/2019/05/11/Linux-日常命令/</a>","license":"Attribution-NonCommercial-NoDerivatives 4.0 International (<a href=\\\"https://creativecommons.org/licenses/by-nc-sa/4.0/\\\" rel=\\\"external nofollow\\\" target=\\\"_blank\\\">CC BY-NC-ND 4.0</a>)","published":"2019年5月11日","author":"Jayli"}}