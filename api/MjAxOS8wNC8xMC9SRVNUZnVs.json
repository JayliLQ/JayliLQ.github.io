{"title":"RESTful","date":"2019-04-10T14:26:41.000Z","date_formatted":{"ll":"2019年4月10日","L":"2019/04/10","MM-DD":"04-10"},"link":"2019/04/10/RESTful","tags":["RESTful"],"categories":["网络协议"],"updated":"2019-04-10T15:05:11.211Z","content":"<!-- build time:Sun Aug 23 2020 21:12:13 GMT+0800 (GMT+08:00) --><h2 id=\"理解-RESTful\">理解 RESTful<a href=\"2019/04/10/RESTful#理解-RESTful\"></a></h2><p>REST，Representational State Transfer，表述性状态转移</p><h2 id=\"资源与-URI\">资源与 URI<a href=\"2019/04/10/RESTful#资源与-URI\"></a></h2><p>网络中的资源需要被识别，就需要有唯一标识，URL（Uniform Resource Identifier）。</p><p>URI 既可以看成是资源的地址，也可以看成资源的名称，具有自解释性</p><p>URI 的设计技巧：</p><ul><li><p>使用 _ 或 - 来提高 URI 的可读性</p><p>例如，<a href=\"http://www.oschina.net/news/38119/oschina-translate-reward-plan\" target=\"_blank\" rel=\"noopener\">http://www.oschina.net/news/38119/oschina-translate-reward-plan</a></p></li><li><p>使用 / 来表示资源的层级关系</p><p>例如，/orders/2012/10</p></li><li><p>使用 ? 来过滤资源</p><p>例如，/pulls?state=closed</p></li><li><p>使用 , 或 ; 来表示同级资源关系</p><p>例如，/git/git /block-sha1/sha1.h/compare/e3af72;bd63e6</p></li></ul><h2 id=\"统一资源接口\">统一资源接口<a href=\"2019/04/10/RESTful#统一资源接口\"></a></h2><p>REST 在 HTTP 基础上，对同一资源，使用同一 URI，但对资源的不同操作，用标准的 HTTP 方法来实现</p><p><strong>GET</strong></p><p>安全且幂等，表示获取</p><p>200（OK） - 表示已在响应中发出<br>204（无内容） - 资源有空表示<br>301（Moved Permanently） - 资源的URI已被更新<br>303（See Other） - 其他（如，负载均衡）<br>304（not modified）- 资源未更改（缓存）<br>400 （bad request）- 指代坏请求（如，参数错误）<br>404 （not found）- 资源不存在<br>406 （not acceptable）- 服务端不支持所需表示<br>500 （internal server error）- 通用错误响应<br>503 （Service Unavailable）- 服务端当前无法处理请求</p><p><strong>POST</strong></p><p>不安全且不幂等，使用服务端管理的实例号创建资源，创建子资源，部分更新资源</p><p>200（OK）- 如果现有资源已被更改<br>201（created）- 如果新资源被创建<br>202（accepted）- 已接受处理请求但尚未完成（异步处理）<br>301（Moved Permanently）- 资源的URI被更新<br>303（See Other）- 其他（如，负载均衡）<br>400（bad request）- 指代坏请求<br>404 （not found）- 资源不存在<br>406 （not acceptable）- 服务端不支持所需表示<br>409 （conflict）- 通用冲突<br>412 （Precondition Failed）- 前置条件失败（如执行条件更新时的冲突）<br>415 （unsupported media type）- 接受到的表示不受支持<br>500 （internal server error）- 通用错误响应<br>503 （Service Unavailable）- 服务当前无法处理请求</p><p><strong>PUT</strong></p><p>不安全但幂等，用客户端管理的实例号创建资源，通过替换来更新资源</p><p>200 （OK）- 如果已存在资源被更改<br>201 （created）- 如果新资源被创建<br>301（Moved Permanently）- 资源的URI已更改<br>303 （See Other）- 其他（如，负载均衡）<br>400 （bad request）- 指代坏请求<br>404 （not found）- 资源不存在<br>406 （not acceptable）- 服务端不支持所需表示<br>409 （conflict）- 通用冲突<br>412 （Precondition Failed）- 前置条件失败（如执行条件更新时的冲突）<br>415 （unsupported media type）- 接受到的表示不受支持<br>500 （internal server error）- 通用错误响应<br>503 （Service Unavailable）- 服务当前无法处理请求</p><p><strong>DELETE</strong></p><p>不安全但幂等，删除资源</p><p>200 （OK）- 资源已被删除<br>301 （Moved Permanently）- 资源的URI已更改<br>303 （See Other）- 其他，如负载均衡<br>400 （bad request）- 指代坏请求<br>404 （not found）- 资源不存在<br>409 （conflict）- 通用冲突<br>500 （internal server error）- 通用错误响应<br>503 （Service Unavailable）- 服务端当前无法处理请求</p><h2 id=\"资源的表述\">资源的表述<a href=\"2019/04/10/RESTful#资源的表述\"></a></h2><p>客户端获取的资源，准确来说，是获取的资源的表述，而不是资源本身。</p><p>资源的表述，包含数据和描述数据的元数据，例如，HTTP 头 “Content-Type” 表示元数据的表现形式，可以是 html, xml, json 等</p><p>对于服务器不支持的表述格式，会返回 HTTP 响应码 406（Not Acceptable）</p><h2 id=\"资源的链接\">资源的链接<a href=\"2019/04/10/RESTful#资源的链接\"></a></h2><p>需要页面的时候，可以在表述格式里面加入要跳转的链接来引导客户端</p><h2 id=\"状态的转移\">状态的转移<a href=\"2019/04/10/RESTful#状态的转移\"></a></h2><p>状态分为客户端维护的应用状态和服务端维护的资源状态</p><p>客户端和服务端的交互无状态，需要在每一次请求中都包含所需的一切信息，服务端不需要在请求期间保留应用状态，只有在实际接收到请求的时候，才会关注应用状态</p><p>会话状态不是作为资源状态保存在服务端，而是被客户端作为应用状态进行跟踪的。客户端应用状态在服务端提供的超媒体的指引下发生变迁。服务端通过超媒体告诉客户端当前状态有哪些后续状态可以进入。</p><h2 id=\"参考\">参考<a href=\"2019/04/10/RESTful#参考\"></a></h2><p><a href=\"http://www.runoob.com/w3cnote/restful-architecture.html\" target=\"_blank\" rel=\"noopener\">RESTful 架构详解</a></p><!-- rebuild by neat -->","prev":{"title":"vim-command","link":"2019/04/19/vim-command"},"next":{"title":"EDI reference","link":"2019/04/02/EDI-reference"},"plink":"https://www.jayli.cn/2019/04/10/RESTful/","toc":[{"title":"理解 RESTful","id":"理解-RESTful","index":"1"},{"title":"资源与 URI","id":"资源与-URI","index":"2"},{"title":"统一资源接口","id":"统一资源接口","index":"3"},{"title":"资源的表述","id":"资源的表述","index":"4"},{"title":"资源的链接","id":"资源的链接","index":"5"},{"title":"状态的转移","id":"状态的转移","index":"6"},{"title":"参考","id":"参考","index":"7"}],"copyright":{"link":"<a href=\"https://www.jayli.cn/2019/04/10/RESTful/\" title=\"RESTful\">https://www.jayli.cn/2019/04/10/RESTful/</a>","license":"Attribution-NonCommercial-NoDerivatives 4.0 International (<a href=\\\"https://creativecommons.org/licenses/by-nc-sa/4.0/\\\" rel=\\\"external nofollow\\\" target=\\\"_blank\\\">CC BY-NC-ND 4.0</a>)","published":"2019年4月10日","author":"Jayli"}}